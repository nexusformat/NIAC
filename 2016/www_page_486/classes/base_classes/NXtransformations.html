<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.3.1.49. NXtransformations &#8212; NeXus Data Format 3.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nxsphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within NeXus Data Format 3.2 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="NeXus Data Format 3.2 documentation" href="../../contents.html" />
    <link rel="up" title="3.3.1. Base Class Definitions" href="index.html" />
    <link rel="next" title="3.3.1.50. NXtranslation" href="NXtranslation.html" />
    <link rel="prev" title="3.3.1.48. NXsubentry" href="NXsubentry.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">Home</a></li>
    <li><a href="../../user_manual.html">User Manual</a></li>
    <li><a href="../../ref_doc.html">Reference Documentation</a></li>
    <li><a href="https://github.com/nexusformat">NeXus Github</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/NeXus.png" alt="NeXus" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="NXtranslation.html" title="3.3.1.50. NXtranslation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="NXsubentry.html" title="3.3.1.48. NXsubentry"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">NeXus Home</a>&nbsp;|</li>
        <li><a href="../../contents.html">Table of Contents</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" >3. NeXus: Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >3.3. NeXus Class Definitions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U">3.3.1. Base Class Definitions</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="NXsubentry.html"
                        title="previous chapter">3.3.1.48. NXsubentry</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="NXtranslation.html"
                        title="next chapter">3.3.1.50. NXtranslation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/classes/base_classes/NXtransformations.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nxtransformations">
<span id="index-0"></span><span id="id1"></span><h1>3.3.1.49. NXtransformations<a class="headerlink" href="#nxtransformations" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Status</strong>:</p>
<blockquote>
<div>base class, extends <a class="reference internal" href="NXobject.html#nxobject"><span class="std std-ref">NXobject</span></a>, version 1.0</div></blockquote>
<p><strong>Description</strong>:</p>
<blockquote>
<div><p>Collection of translations and rotations to describe a geometry</p>
<p>A sequence of transformations lists the offset and rotation steps needed
to describe the position and orientation of any movable or fixed device.</p>
<p>This class will usually contain all axes of a sample stage or goniometer.</p>
<p>The entry point (<code class="docutils literal"><span class="pre">depends_on</span></code>) will be outside of this class and point to a
field in here. Following the chain may also require following <code class="docutils literal"><span class="pre">depends_on</span></code>
links to transformations outside, for example to a common base table.</p>
<p>For a chain of three transformations, where <span class="math">\(T_1\)</span> depends on <span class="math">\(T_2\)</span>
and that in turn depends on <span class="math">\(T_3\)</span>, the final transformation <span class="math">\(T_f\)</span> is</p>
<div class="math">
\[T_f = T_3 T_2 T_1\]</div>
<p>In explicit terms, the transformations are a subset of affine transformations
expressed as 4x4 matrices that act on homogeneous coordinates, <span class="math">\(w=(x,y,z,1)^T\)</span>.</p>
<p>For rotation and translation,</p>
<blockquote>
<div><div class="math">
\[\begin{split}T_r &amp;= \left( \begin{matrix} R  &amp; o \\
  0_3 &amp; 1 \end{matrix} \right) \\
T_t &amp;= \left( \begin{matrix} I_3  &amp; t + o \\
  0_3 &amp; 1 \end{matrix} \right)\end{split}\]</div>
</div></blockquote>
<p>where <span class="math">\(R\)</span> is the usual 3x3 rotation matrix, <span class="math">\(o\)</span> is an offset vector,
<span class="math">\(0_3\)</span> is a row of 3 zeros, <span class="math">\(I_3\)</span> is the 3x3 identity matrix and
<span class="math">\(t\)</span> is the translation vector.</p>
<p><span class="math">\(o\)</span> is given the <code class="docutils literal"><span class="pre">offset</span></code> attribute, <span class="math">\(t\)</span> is given by the <code class="docutils literal"><span class="pre">vector</span></code>
attribute multiplied by the field value, and <span class="math">\(R\)</span> is defined as a rotation
about an axis in the direction of <code class="docutils literal"><span class="pre">vector</span></code>, of angle of the field value.</p>
</div></blockquote>
<p><strong>Symbols</strong>:</p>
<blockquote>
<div>No symbol table</div></blockquote>
<dl class="docutils">
<dt><strong>Groups cited</strong>:</dt>
<dd>none</dd>
</dl>
<p><strong>Structure</strong>:</p>
<blockquote>
<div><p id="index-1"><strong>TRANSFORMATION</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><p>Units need to be appropriate for translation or rotation</p>
<p>The name of this field is not defined.  The user is free to use any name
that does not cause confusion.  When using more than one TRANSFORMATION field,
make sure that each field name is unique in the same group, as required
by HDF5.</p>
<p id="index-2"><strong>&#64;transformation_type</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div>Any of these values: <code class="docutils literal"><span class="pre">translation</span></code> | <code class="docutils literal"><span class="pre">rotation</span></code></div></blockquote>
<p id="index-3"><strong>&#64;vector</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div>Three values that define the axis for this transformation</div></blockquote>
<p id="index-4"><strong>&#64;offset</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div>A fixed offset applied before the transformation (three vector components).</div></blockquote>
<p id="index-5"><strong>&#64;offset_units</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div>Units of the offset.</div></blockquote>
<p id="index-6"><strong>&#64;depends_on</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div>Points to the name of the next element in the geometry chain.</div></blockquote>
</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt><strong>NXDL Source</strong>:</dt>
<dd><a class="reference external" href="https://github.com/nexusformat/definitions/blob/master/base_classes/NXtransformations.nxdl.xml">https://github.com/nexusformat/definitions/blob/master/base_classes/NXtransformations.nxdl.xml</a></dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="NXtranslation.html" title="3.3.1.50. NXtranslation"
             >next</a> |</li>
        <li class="right" >
          <a href="NXsubentry.html" title="3.3.1.48. NXsubentry"
             >previous</a> |</li>
        <li><a href="../../index.html">NeXus Home</a>&nbsp;|</li>
        <li><a href="../../contents.html">Table of Contents</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" >3. NeXus: Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >3.3. NeXus Class Definitions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" >3.3.1. Base Class Definitions</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../../copyright.html">Copyright</a> 1996-2016, http://nexusformat.org.
      Last updated on 2016-10-13 21:06:42 GMT+00:00.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>